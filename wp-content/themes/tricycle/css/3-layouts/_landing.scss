// landing
////////////////////////
.landing-marquee {
  @extend %marquee;
  @extend %marquee-image;
  @include margin($base-spacing null);
  @include dept-hover-helper;

  @include media($desktop-down) {
    margin-bottom: 0;
  }

  &.magazine {

    .button {
      &:hover {
        background-color: $clr-magazine;
      }
    }

    path {
      fill: $clr-gray-off;
    }

    button:hover {
      path {
        fill: $clr-magazine;
      }
    }
  }

  &.ebooks {

    .rubric_top .button {
      &:hover {
        background-color: $clr-ebooks;
      }
    }

    path {
      fill: $clr-gray-off;
    }

    button:hover {
      path {
        fill: $clr-ebooks;
      }
    }
  }

  article {
    @include media($desktop-up) {
      margin-bottom: 0;
    }
  }

  address {
    display: inline-block;

    + time {
      @include media($mobile-to-desktop) {
        @include topic-1line;
      }
    }
  }

  .topic {
    display: block;
  }

  article.dharmatalks address,
  article.filmclub address,
  article.filmfestival address {
    font-size: 1.5em;
    line-height: 1.3;
  }

  article.dharmatalks address {
    @extend %dharmatalks-speaker;
  }

  article.filmclub address {
    @extend %filmclub-speaker;
  }

  article.filmfestival address {
    @extend %filmfestival-speaker;
  }
}

.landing-marquee-hero {

  article {
    @include clearfix;
  }

  figure {
    @include media($desktop-to-wide) {
      @include span-columns(7 of 12, block-collapse);
      @include omega;
    }

    @include media($wide-up) {
      @include span-columns(9 of 12);
      @include omega;
      margin-bottom: $base-spacing;
    }

    a {
      @include media($wide-up) {
        display: block;
      }
    }
  }

  img {
    @include media($desktop-up) {
      height: 27em;
      max-height: none;
    }

    @include media($wide-up) {
      height: 30em;
    }
  }

  .icon {
    @extend %marquee-aside-icon;
  }

  section {
    @extend %card;
    @include padding($small-spacing $base-spacing $base-spacing);
    // @include transition($base-transition);

    @include media($desktop-to-wide) {
      @include span-columns(5 of 12, block-collapse);
      min-height: 27em;
    }

    @include media($wide-up) {
      @include margin($base-spacing * 2 null null -6.38298%);
      @include span-columns(4 of 12);
      min-height: 30em - ($base-spacing * 4);
    }
  }

  h1 {
    font-size: $heading-font-size;

    @include media($desktop-up) {
      font-size: 2em;
      margin-bottom: $small-spacing / 2;
    }
  }
}

.landing-marquee-articles {
  @extend %posts_3x1;

  article {
    @extend %card;
    padding-bottom: $base-spacing;
  }

  .icon {
    @extend %marquee-aside-icon;
  }

  section {
    @include padding(null $base-spacing);
  }

  img {
    min-height: inherit;
  }

  .rubric {
    margin-top: $base-spacing;

    .icon{
      position:relative;
      z-index:1;
    }

  }
}

%landing-more {
  .more {
    @include dept-button($clr-red);

    &.trikedaily {
      @include dept-button($clr-trikedaily);
    }

    &.ebooks {
      @include dept-button($clr-ebooks);
    }

    &.filmclub {
      @include dept-button($clr-filmclub);
    }

    &.magazine {
      @include dept-button($clr-magazine);
    }

    &.dharmatalks {
      @include dept-button($clr-dharmatalks);
    }
  }
}

// landing stack slug
.landing-stack-slug {
  @include margin($base-spacing * 3 $small-spacing $base-spacing * 2);
  text-align: center;

  @include media($tablet-up) {
    @include margin(null $base-spacing);
  }

  h2 {
    @extend %h2-cond;
    @include padding($small-spacing / 2 $base-spacing $small-spacing / 2 - em(2px));
    @include position(relative, $base-spacing * -.667 null null);
    color: $clr-white;
    display: inline-block;
    letter-spacing: .1em;
    margin: 0 auto;
  }

  &.magazine {
    @include margin($base-spacing * 2 null $base-spacing);
    border-top: 2px solid $clr-magazine;
    h2 { background-color: $clr-magazine; }
  }

  &.filmclub {
    border-top: 2px solid $clr-filmclub;
    h2 { background-color: $clr-filmclub; }
  }

  &.filmfestival {
    border-top: 2px solid $clr-filmfestival;
    h2 { background-color: $clr-filmfestival; }
  }
}

.landing-stack {
  @extend %stack;
  @extend %stack-rows;
  @extend %landing-more;
  @include dept-hover-helper;
  // margin-bottom: $base-spacing;

  .icon {
    @extend %marquee-aside-icon;

      @include media($tablet-up) {
        display: none;
      }

      &.icon-quote{
      display: block;
      float: none;
      margin: 1.8em auto;
     }

      &.icon-share_facebook, &.icon-share_twitter, &.icon-share_email{
        display: block;
        float: none;
        margin:0 auto;
      }

  }

  .dailydharma-quote p{
    color:#111111;
  }

  > section {
    margin-top: $base-spacing * 2;

    &:first-of-type {
      margin-top: 0;
    }
  }

  p {
    color: $clr-gray-mid;
  }

  address {
    display: inline-block;

    + time {
      @include media($mobile-to-tablet) {
        @include topic-1line;
      }

      @include media($wide-up) {
        @include topic-1line;
      }
    }
  }
}

.landing-marquee,
.landing-stack {

  article.dharmatalks,
  article.filmclub,
  article.filmfestival {

    figure {
      @extend %video-figure_small;
    }
  }

  article.dharmatalks {

    figure {
      @include video-hover($clr-dharmatalks);
    }
  }

  article.filmclub {

    figure {
      @include video-hover($clr-filmclub);
    }
  }

  article.filmfestival {

    figure {
      @include video-hover($clr-filmfestival);
    }
  }
}

.landing-category {

  .topic {
    @include media($tablet-to-desktop) {
      @include topic-1line;
      display: inline-block;
    }
  }
}
